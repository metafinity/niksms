
<dashboard version="1.1" hideEdit="true">
    <label>Send Alert Action with Niksms Panel v1.2.2</label>

    <!-- Overview & Quickstart Panel -->
    <row>
        <panel>
            <html>
            <style>
                body { font-family: Arial, sans-serif; line-height: 1.5; color: #333; }
                h1 { color: #2E5C6E; }
                hr { border: 0; border-top: 1px solid #ccc; margin: 15px 0; }
                table { border-collapse: collapse; margin-bottom: 15px; }
                th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                .card { border: 1px solid #ccc; border-radius: 8px; padding: 15px; margin: 10px 0; background-color: #f9f9f9; display: inline-block; width: 45%; vertical-align: top; }
                .card h2 { margin-top: 0; color: #2E5C6E; }
            </style>

            <h1>Overview</h1>
            <p>This is a Splunk Custom Alert Action for sending SMS messages to a group of phone numbers using the Niksms API.</p>
            <p>The Python code in this App is Python 3 compatible and supports Splunk 8+.</p>
            <p>All activities, including API requests, responses, and errors, are logged to:</p>
            <pre>$SPLUNK_HOME/var/log/splunk/niksms_alert.log</pre>
            <hr/>

            <h1>Quickstart</h1>
            <ol>
                <li>Sign up on <a href="https://niksms.com/" target="_blank">Niksms</a> and obtain your API key.</li>
                <li>Configure the custom alert action in Splunk with the following parameters:
                    <ul>
                        <li><b>API Key</b> → Your Niksms API key</li>
                        <li><b>Sender Number</b> → Optional sender number</li>
                        <li><b>Phones</b> → Comma-separated recipient phone numbers</li>
                        <li><b>Message</b> → Message text (supports result tokens, e.g. $result.fieldname$)</li>
                    </ul>
                </li>
                <li>Trigger an alert and the App will automatically send SMS to the configured recipients.</li>
            </ol>
            <hr/>

            <h1>Parameters</h1>
            <table>
                <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
                <tr><td>apikey</td><td>Yes</td><td>Your Niksms API key</td></tr>
                <tr><td>sender</td><td>No</td><td>Optional sender number</td></tr>
                <tr><td>phones</td><td>Yes</td><td>Comma-separated recipient phone numbers</td></tr>
                <tr><td>message</td><td>Yes</td><td>Message text (supports result tokens)</td></tr>
            </table>
            <hr/>

            <h1>Logging</h1>
            <ul>
                <li>Received payload</li>
                <li>API request and response details</li>
                <li>Errors if sending fails</li>
            </ul>
            <hr/>

            <h1>Permission</h1>
            <p>Recommended permissions for files and directories in this app:</p>
            <table>
                <tr><th>755</th><th>App Directory Permissions</th></tr>
                <tr><td>644</td><td>Files inside the App</td></tr>
                <tr><td>755</td><td>Executable Scripts in bin/</td></tr>
            </table>
            <hr/>

            <h1>Developer</h1>
            <p>This App is built and supported by <a href="https://github.com/metafinity/niksms" target="_blank">Meysam Talebi</a>.</p>

            </html>
        </panel>
    </row>

</dashboard>
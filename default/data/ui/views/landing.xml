<dashboard version="1.1" hideEdit="true">
    <label>Send Alert Action with Niksms Panel v1.2.2</label>
    
    <row>
        <panel>
            <html>
            <style>
                body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; background-color: #f4f6f8; padding: 20px; }
                h1 { color: #1E73BE; }
                h2 { color: #2E5C6E; }
                hr { border: 0; border-top: 2px solid #ddd; margin: 20px 0; }
                p { margin: 10px 0; }
                a { color: #1E73BE; text-decoration: none; }
                a:hover { text-decoration: underline; }
                table { border-collapse: collapse; width: 100%; margin: 15px 0; }
                th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
                th { background-color: #1E73BE; color: #fff; }
                .section { background-color: #ffffff; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
            </style>

            <div class="section">
                <h1>Overview</h1>
                <p>This is a Splunk Modular Alert for sending SMS messages to a group of phone numbers using the Niksms API.</p>
                <p>The Python code in this App is Python 3 compatible and supports Splunk 8+.</p>
                <p>All activities, including API requests, responses, and errors, are logged to:</p>
                <pre>$SPLUNK_HOME/var/log/splunk/niksms_alert.log</pre>
            </div>

            <div class="section">
                <h1>Quickstart</h1>
                <ol>
                    <li>Sign up on <a href="https://webservice.niksms.com/" target="_blank">Niksms</a> and obtain your API key.</li>
                    <li>Configure the custom alert action in Splunk with the following parameters:
                        <ul>
                            <li><b>API Key</b> → Your Niksms API key</li>
                            <li><b>Sender Number</b> → Optional sender number</li>
                            <li><b>Phones</b> → Comma-separated recipient phone numbers</li>
                            <li><b>Message</b> → Message text (supports result tokens, e.g. $result.fieldname$)</li>
                        </ul>
                    </li>
                    <li>Trigger an alert and the App will automatically send SMS to the configured recipients.</li>
                </ol>
            </div>

            <div class="section">
                <h1>Parameters</h1>
                <table>
                    <tr><th>Parameter</th><th>Required</th><th>Description</th></tr>
                    <tr><td>apikey</td><td>Yes</td><td>Your Niksms API key</td></tr>
                    <tr><td>sender</td><td>No</td><td>Optional sender number</td></tr>
                    <tr><td>phones</td><td>Yes</td><td>Comma-separated recipient phone numbers</td></tr>
                    <tr><td>message</td><td>Yes</td><td>Message text (supports result tokens)</td></tr>
                </table>
            </div>

            <div class="section">
                <h1>Logging</h1>
                <ul>
                    <li>Received payload</li>
                    <li>API request and response details</li>
                    <li>Errors if sending fails</li>
                </ul>
            </div>

            <div class="section">
                <h1>Developer</h1>
                <p>This App is built and supported by <a href="https://github.com/metafinity/niksms_alert" target="_blank">Meysam Talebi</a>.</p>
            </div>

            </html>
        </panel>
    </row>
</dashboard>
